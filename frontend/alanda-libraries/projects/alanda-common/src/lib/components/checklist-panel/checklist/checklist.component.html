<style>
  ::ng-deep .cl-progressbar .ui-progressbar{
    margin-bottom: 20px;
    height: 6px;
  }

  ::ng-deep .cl-check-label-lt {
    text-decoration: line-through;
  }

  ::ng-deep .cl-check-label-lt-opt {
    text-decoration: line-through;
    font-style: italic;
  }

  ::ng-deep .cl-check-label-opt {
    font-style: italic;
  }

  .spacer-left {
    margin-left: 8px;
  }

  .add-icon {
    font-size: 20px;
    color: #1976d2;
    margin-right: 6px;
    margin-left: 2px;
  }

  .add-icon:hover, .delete-icon, .option-icon {
    cursor: pointer;
  }

  .delete-icon {
    font-size: 14px;
    margin-left: 6px;
  }

  .option-icon {
    float: right;
    font-size: 22px;
    color: #1976d2;
  }

  .cl-header  {
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: .5em;
  }

  ::ng-deep .cl-card .ui-card-header {
    padding: 1em;
  }
</style>
<p-card styleClass="cl-card">
  <p-header>
    <span class="cl-header">{{ checklist.name }}</span>
    <span class="fa fa-cog option-icon" (click)="goToAdministration()"></span>
  </p-header>
  You have completed {{ completedTasks }} tasks out of {{ checklist.checkListItems.length }}
  <p-progressBar class="cl-progressbar" [showValue]="false" unit="%" [value]="completedTasks / checklist.checkListItems.length * 100"></p-progressBar>
  <form [formGroup]="formGroup" class="p-grid">
    <div *ngFor="let item of mandatoryChecks" class="p-col-12">
      <div [formGroupName]="item.definition.key">
        <p-checkbox
          formControlName="status"
          [name]="checklist.id"
          [label]="item.definition.displayText"
          [binary]="true"
          [labelStyleClass]="formGroup.get(item.definition.key).value.status ? 'cl-check-label-lt' : ''"
          ></p-checkbox>
          <span *ngIf="item.definition.custom" (click)="removeItem(item)" class="fa fa-times-circle delete-icon"></span>
      </div>
    </div>
    <h4 class="p-col-12">Optional Tasks</h4>
    <div *ngFor="let item of optionalChecks" class="p-col-12">
      <div [formGroupName]="item.definition.key">
        <p-checkbox
          formControlName="status"
          [name]="checklist.id"
          [label]="item.definition.displayText"
          [binary]="true"
          [labelStyleClass]="formGroup.get(item.definition.key).value.status ? 'cl-check-label-lt-opt' : 'cl-check-label-opt'"
          ></p-checkbox>
          <span *ngIf="item.definition.custom" (click)="removeItem(item)" class="fa fa-times-circle delete-icon"></span>
      </div>
    </div>
    <div class="p-col-12">
      <span class="fa fa-plus-circle add-icon" (click)="addItem(clip.value, clcb.checked)"></span>
      <input #clip pInput type="text" placeholder="Add new task...">
      <p-checkbox #clcb class="spacer-left" [binary]="true" label="Required?"></p-checkbox>
    </div>
  </form>
</p-card>
