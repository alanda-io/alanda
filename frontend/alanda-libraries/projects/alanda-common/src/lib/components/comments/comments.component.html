<p-panel class="comments" [toggleable]="true">
  <p-header>
    Comments
    <p-button label="{{filteredCommentsBySearchAndTags.length}}" styleClass="ui-button-rounded"></p-button>
  </p-header>

  <div class="p-grid">
    <div class="p-lg-10 p-sm-12">
      <form (ngSubmit)="onSubmitComment(commentForm)" #commentForm="ngForm">
        <textarea pInputTextarea id="textarea" class="comment-textarea" [rows]="4" autoResize="autoResize" name="content" [(ngModel)]="content" maxLength="4000" placeholder="Write a comment..."></textarea>
        <div class="form-buttons">
          <p-button type="submit" icon="fa fa-paper-plane" iconPos="left" label="Post Comment" [disabled]="!content"></p-button>
        </div>
      </form>
      <p-scrollPanel [style]="{height: '500px'}" *ngIf="filteredCommentsBySearchAndTags.length > 0; else elseBlock">
        <alanda-comment class="comment" [comment]="comment" [tagFilters]="tagFilters" type="comment" *ngFor="let comment of filteredCommentsBySearchAndTags"></alanda-comment>
      </p-scrollPanel>
      <ng-template #elseBlock>
        <div class="comments-no-entry">
          Sorry there are not comments!
        </div>
      </ng-template>
    </div>
    <div class="p-col">
      <input type="text" [(ngModel)]="searchText" pInputText placeholder="Search comments">
      <div *ngFor="let tag of tags" class="tag-wrapper">
        <p-button label="{{tag.name}}" icon="pi pi-tag" iconPos="left" type="button" (onClick)="toggleFilter(tag.name)" [styleClass]="tagClass(tag)"></p-button>
      </div>
      <div class="tag-wrapper">
        <p-button label="Clear Filters" icon="pi pi-times-circle" iconPos="left" type="button" (onClick)="clearFilters()" *ngIf="filterEnabled" styleClass="ui-button-danger"></p-button>
      </div>
    </div>
  </div>
</p-panel>


