<p-panel class="comments" #commentPanel [toggleable]="true" (onBeforeToggle)="togglePanel()">
  <p-header>
    Comments
    <p-button label="{{comments.length}}" styleClass="ui-button-rounded"></p-button>
  </p-header>

  <div class="p-grid">
    <div class="p-lg-10 p-sm-12">
      <form (ngSubmit)="onSubmitComment(commentForm)" #commentForm="ngForm">
        <textarea pInputTextarea id="textarea" class="comment-textarea" [rows]="4" autoResize="autoResize" name="content" [(ngModel)]="content" maxLength="4000" placeholder="Write a comment..."></textarea>
        <div class="form-buttons">
          <p-button type="submit" icon="fa fa-paper-plane" iconPos="left" label="Post Comment" [disabled]="!content"></p-button>
        </div>
      </form>
      <p-scrollPanel [style]="{height: '500px'}" *ngIf="comments.length > 0">
        <alanda-comment [comment]="comment" [tagFilters]="tagFilters" type="comment" *ngFor="let comment of filteredCommentsBySearchAndTags"></alanda-comment>
      </p-scrollPanel>
    </div>
    <div class="p-col">
      <input type="text" [(ngModel)]="searchText" pInputText placeholder="Search comments">
      <div *ngFor="let tag of tags" class="taglist">
        <p-button style="margin-top:5px" label="{{tag.name}}" icon="pi pi-tag" iconPos="left" type="button" (onClick)="toggleFilter(tag.name)" [styleClass]="tagClass(tag)"></p-button>
      </div>
      <span class="taglist">
        <p-button label="Clear Filters" style="margin-top:5px" icon="pi pi-times-circle" iconPos="left" type="button" (onClick)="clearFilters()" *ngIf="filterEnabled" styleClass="ui-button-danger"></p-button>
      </span>
    </div>
  </div>
</p-panel>


