<style>
  p-button {
    margin-right: 0.25rem;
    margin-bottom: 0.25rem;
  }
  .component-content {
    margin: 20px;
  }
</style>

<p-panel [toggleable]="true" [collapsed]="true" (onAfterToggle)="togglePanel()">
  <p-header>
    <span class="ui-panel-title">
    Attachments
        <p-button label="{{fileCount}}" style="margin-right:5px" styleClass="ui-button-rounded"></p-button>
    </span>
  </p-header>
  <div class = "p-grid">
    <div class="p-col-3">
        <attachments-tree [treeNode] = "treeNode" (nodeChangedEvent)="onSelectedNodeChange($event)"></attachments-tree>
    </div>
    <div class="p-col">
    <a [href]="downloadAllUrl">
      <p-button type="button" icon="fa fa-download" label="Download all" [disabled]="fileCount == 0"></p-button>
    </a>
      <div class="p-grid">
        <div class="p-col-12 p-nogutter">
            <attachments-list [data]="data" [currentFiles]="currentFiles" (onDeleteFile)="onDeleteFile()"></attachments-list>
        </div>
        <div class="p-col-12 p-md-12 p-nogutter">

          <p-fileUpload #fileUploader
            name="file"
            url="{{uploaderUrl}}"
            multiple="multiple"
            (onUpload)="onUpload($event)"
            chooseLabel="Choose Files"
            auto="true"
            uploadLabel="Upload">
            <ng-template pTemplate="content">
              <div>Drag files here to upload</div>
            </ng-template>
          </p-fileUpload>

        </div>
      </div>
    </div>
  </div>
</p-panel>
