<ng-container *ngIf="state$ | async as taskFormState">
  <form [formGroup]="rootForm" (submit)="submit()">
    <alanda-project-header
      [task]="taskFormState.task"
      [project]="taskFormState.project"
    ></alanda-project-header>
    <alanda-project-and-processes
      [project]="taskFormState.project"
    ></alanda-project-and-processes>
    <alanda-comments
      [task]="taskFormState.task"
      [project]="taskFormState.project"
    ></alanda-comments>
    <alanda-complete-task (complete)="submit()">
      <alanda-simple-select
        [rootFormGroup]="rootForm"
        [task]="taskFormState.task"
        [items]="items"
        variableName="requestApproved"
        label="Approve vacation request?"
      ></alanda-simple-select>
    </alanda-complete-task>
  </form>
</ng-container>
