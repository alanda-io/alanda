<div class="phase-tab" *ngIf="state$ | async as state">
  <div class="phase-tab-header">
    <div
      *ngFor="let phase of state.simplePhases; let i = index"
      [ngClass]="{
        'header-item': true,
        active:
          phase.pmcProjectPhaseDefinition.idName ===
          state.activePhase.pmcProjectPhaseDefinition.idName
      }"
      (click)="phaseChanges.next(phase)"
    >
      <div class="header-text">
        {{ phase.pmcProjectPhaseDefinition.displayName }}
      </div>
      <div class="header-state" *ngIf="phase.guid">
        <ng-container *ngIf="hasAuth(phase, 'write')">
          <p-menu
            #menu
            [popup]="true"
            [model]="getMenuItems(phase)"
            appendTo="body"
          ></p-menu>
          <span
            class="pi pi-cog edit-state"
            *ngIf="!phase.frozen"
            (click)="menu.toggle($event)"
          ></span>
        </ng-container>
        <span [ngClass]="['status', getPhaseStatus(phase).styleClass]">{{
          getPhaseStatus(phase).label
        }}</span>
      </div>
    </div>
  </div>

  <div class="phase-tab-content">
    <!-- Something can be placed here -->
    <ng-content></ng-content>
  </div>
</div>
