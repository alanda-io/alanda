<ng-container *ngIf="state$ | async as s">
  <div [formGroup]="commentForm">
    <p-dialog
      [(visible)]="s.showCommentDialog"
      [modal]="true"
      [dismissableMask]="true"
      [closeOnEscape]="true"
      [closable]="true"
      [draggable]="false"
      [style]="{ width: '600px' }"
    >
      <p-header>{{s.properties.dialogHeader}}</p-header>
      <div class="p-grid">
        <div class="p-col-12">
          <alanda-label [label]="s.properties.commentLabel"></alanda-label>
          <textarea
            rows="10"
            style="width: 100%;"
            formControlName="comment"
            [placeholder]="s.properties.commentTextAreaPlaceholder"
          ></textarea>
        </div>
      </div>
      <p-footer>
        <p-button
          (click)="saveComment$.next(comment.value)"
          [icon]="s.properties.commentButtonIcon"
          [class]="s.properties.commentButtonClass"
          [label]="s.properties.commentButtonLabel"
          [disabled]="commentForm.invalid"
        ></p-button>
      </p-footer>
    </p-dialog>
  </div>
</ng-container>
