<ng-container *ngIf="state$ | async as s">
  <div [formGroup]="selectForm">
    <div class="p-col-6">
      <strong> {{ label }}: </strong>
    </div>
    <div class="p-col-6">
      <p-autoComplete
        [suggestions]="s.filteredOptions"
        formControlName="selected"
        (completeMethod)="searchPropEvent$.next($event.query)"
        field="label"
        dataKey="value"
        [dropdown]="true"
        placeHolder="Select"
        (onSelect)="selectPropEvent$.next($event)"
      ></p-autoComplete>
      <ng-container
        *ngIf="selected.invalid && (selected.dirty || selected.touched)"
      >
        <p-message
          *ngIf="selected.errors.required"
          severity="error"
          text="Field is required"
        ></p-message>
      </ng-container>
    </div>
  </div>
</ng-container>
